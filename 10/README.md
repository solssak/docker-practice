# Docker 강의 총 정리 요약

## 컨테이너
정의: 코드와 실행에 필요한 환경을 포함하는 **격리된 실행 단위**
특징
1. 하나의 컨테이너는 하나의 Task에 집중한다.
  - 예: 웹 서버 실행, 프론트엔드 실행, DB 실행 등
2. 재현 가능한 환경 제공 -> 배포 및 공유가 용이함.
3. 무상태(stateless): 컨테이너 내부에 저장된 데이터는 컨테이너 종료 시 사라진다.
  - 단, **볼륨(Volume)**을 사용하면 데이터 지속 가능
    -> 로컬 호스트와 폴더를 연결하여 데이터 유지

## 이미지
정의: 컨테이너를 생성하는 설계도(청사진)
  -> 실행 가능한 상태가 아닌, 컨테이너 생성의 기반
특징:
  - 읽기 전용
  - 보통은 `Dockerfile`로 직접 만들거나 `Docker Hub`에서 가져옴
  - 여러 명령어(Layer)로 구성되며, 이 레이어는 캐시되어 재사용 가능 -> 빠른 빌드 속도
  - 공유 및 재현이 쉬움

## 이미지와 컨테이너의 관계
- 컨테이너는 이미지 위에 만들어지는 얇은 계층의 읽기/쓰기 레이어
- 하나의 이미지로 여러 컨테이너 생성 가능
- 컨테이너에서 생성된 데이터는 이미지가 아닌 그 레이어에 기록됨
- 이미지는 절대 변경되지 않음 -> 안정적이고 공유 가능

## 핵심 요약
- 컨테이너: 실행 가능한 앱 단위 (하나의 역할만 수행, 무상태)
- 이미지: 컨테이너를 만들기 위한 정적인 청사진 (readonly, 공유 가능)
- 컨테이너는 이미지 위에 생성되며, 이미지와 데이터를 분리함
- 볼륨을 통해 무상태인 컨테이너에 **지속성**을 부여할 수 있음
- `Dockerfile` 기반의 이미지 빌드는 레이어 단위로 효율적이고 빠르게 처리됨
  - `Dockerfile`에서 변경 가능성이 적은 작업을 상위에 배치하면 Layer cache를 효율화할 수 있음.