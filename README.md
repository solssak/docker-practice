# 들어가며

다양한 방법으로 도커를 다루는 방법(도커가 해결하는 문제, 로컬 머신에서 도커 다루기, 프로젝트 규모별 배포 전략)과 쿠버네티스와 연결하기, 그것이 왜 필요한지 배우는 강의입니다.


# 1. Docker란?

**컨테이너**를 생성하고 관리하기 위한 도구입니다.

#### 컨테이너란?

1. 표준화된 소프트웨어 유닛 이며
2. 코드 실행에 필요한 모든 종속성과 도구가 포함되어 있습니다. 예) NodeJs의 경우 소스 코드 뿐만 아니라 Node 런타임과 관련된 도구가 모두 포함되어있음.


# 2. Container는 왜 필요할까요?

배운 내용을 토대로 질문을 수정해보겠습니다.
"우리는 왜 소프트웨어 개발에서 **독립적인, 표준화된 어플리케이션 패키지**를 필요로 할까요?"

로컬 환경과 배포되어있는 서버 환경의 버전을 동일하게 유지하는 것이 상당한 가치를 가지고 있는데요, 예시와 함께 살펴보면 좋을 것 같아요.

우리는 NodeJS 기반 애플리케이션을 개발했습니다. 새로운 버전에서 지원하는 기능을 사용해 버전 업데이트 후 새롭게 배포했어요. 하지만 배포 서버에는 해당 NodeJS 버전이 포함되어 있지 않아 로컬에서는 작동하는 코드가 실제 서버에서는 동작하지 않는 상황이 생겨요.

이는 무엇이 잘못되어있는지, 문제가 무엇인지 파악하는데 상당한 시간이 걸릴 수 있습니다.
즉, **개발 환경과 운영 환경을 통일하는 것은 상당한 가치가 있다는 것을 의미**합니다.

도커와 컨테이너는 이런 상황에 도움을 줍니다.
특정 노드 버전을 도커 컨테이너에 고정해 코드가 항상 같은 버전에서 실행되도록 할 수 있습니다.

# 3. Container 그리고 VM(가상 머신)

### VM(Virtual Vachine)이란?

<U>VM의 기본 구조</U>
- 호스트 운영체제(Windows/macOS/Linux)위에서 동작
- 완전한 가상 컴퓨터로 동작 ("컴퓨터 속의 컴퓨터")
- 각 VM은 독립적인 가상 운영체제를 포함
- 자체 Shell과 완전한 격리 환경 제공

<U>VM의 장단점</U>
| 장점 | 단점 |
|------|------|
| 완전한 환경 격리 | 높은 리소스 사용량 (메모리/CPU/디스크) |
| 안정적인 환경 제공 | 각 VM마다 별도 OS 설치 필요 |
| OS 레벨 사용자화 가능 | 느린 부팅 및 실행 속도 |
| 강력한 보안성 | 큰 저장 공간 필요 |
| 다양한 OS 지원 | 복잡한 설정과 관리 |

# Docker가 제공하는 이점
| 항목 | 설명 |
|------|------|
| 리소스 효율성 | - 호스트 OS 커널 공유 <br> - 필요한 구성요소만 포함 <br> - 최소한의 디스크 공간 사용 |
| 빠른 실행 | - 즉시 실행 가능 <br> - 가벼운 구조로 빠른 배포 |
| 쉬운 공유 | - Dockerfile을 통한 환경 정의 <br> - 이미지 기반의 간편한 배포 <br> - 버전 관리 용이 |
| 일관된 환경 | - 개발/테스트/운영 환경의 일관성 <br> - "내 컴퓨터에서는 작동해요" 문제 해결 |

# Docker vs VM 주요 차이점
| 특성 | Docker 컨테이너 | Virtual Machine |
|------|----------------|----------------|
| 격리 수준 | 프로세스 수준 격리 | 하드웨어 수준 격리 |
| 운영체제 | 호스트 OS 커널 공유 | 완전한 OS 필요 |
| 크기 | MB 단위 | GB 단위 |
| 시작 시간 | 초 단위 | 분 단위 |
| 리소스 사용 | 최소한의 오버헤드 | 상당한 오버헤드 |
| 성능 | 네이티브에 가까움 | 상대적으로 느림 |

### Docker의 차별화된 특징
- 효율적인 리소스 관리
    - 호스트 OS의 커널 공유로 리소스 절약
    - 컨테이너 별 필요한 구성요소만 포함
    - 최소한의 디스크 공간과 메모리 사용
- 간편한 배포와 관리
    - Dockerfile을 통한 환경 정의
    - 이미지 기반의 버전 관리
    - Docker Hub를 통한 쉬운 공유
    - 표준화된 배포 프로세스
 
# 4. 도커 명령어 찍먹하기
```
# Dockerfile 생성 후 컨테이너 설정 
Dockerfile 이름의 파일 생성 후 컨테이너 설정 명령어 입력 

# 이미지 빌드 
docker build . 

# 현재 생성된 도커 이미지 리스트
docker images

# 컨테이너 실행
docker run -p 3000:3000 {이미지ID} 

# 실행 중인 컨테이너 목록 
docker ps 

# 컨테이너 중지 
docker stop {컨테이너 이름}
```

